<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>å°åŒ—å’–å•¡åœ°åœ– - æ¢ç´¢åŸå¸‚ä¸­çš„å’–å•¡é¦™</title>
        
        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
                background: #f8f5f2;
                min-height: 100vh;
            }

            /* é ‚éƒ¨å°èˆªæ¬„ */
            .navbar {
                background: linear-gradient(135deg, #6b4423 0%, #3e2723 100%);
                padding: 20px 40px;
                box-shadow: 0 2px 20px rgba(0,0,0,0.1);
                position: sticky;
                top: 0;
                z-index: 1000;
                animation: slideDown 0.5s ease;
            }

            .nav-content {
                max-width: 1600px;
                margin: 0 auto;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .logo {
                display: flex;
                align-items: center;
                gap: 15px;
                color: white;
            }

            .logo-icon {
                font-size: 2.5rem;
                animation: logoBounce 2s ease-in-out infinite;
            }

            .logo-text h1 {
                font-size: 1.8rem;
                margin-bottom: 5px;
            }

            .logo-text p {
                font-size: 0.9rem;
                opacity: 0.9;
            }

            .nav-right {
                display: flex;
                align-items: center;
                gap: 25px;
            }

            .nav-stats {
                display: flex;
                gap: 30px;
            }

            /* å›é¦–é æŒ‰éˆ• */
            .home-btn {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 12px 24px;
                background: linear-gradient(135deg, #d4a574 0%, #c19660 100%);
                color: #3e2723;
                text-decoration: none;
                border-radius: 30px;
                font-weight: bold;
                font-size: 1rem;
                transition: all 0.3s ease;
                box-shadow: 0 4px 15px rgba(212, 165, 116, 0.3);
            }

            .home-btn:hover {
                background: linear-gradient(135deg, #e8c49a 0%, #d4a574 100%);
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(212, 165, 116, 0.5);
            }

            .home-btn-icon {
                font-size: 1.2rem;
            }

            .nav-stat-item {
                text-align: center;
                color: white;
            }

            .nav-stat-number {
                font-size: 1.5rem;
                font-weight: bold;
                color: #d4a574;
            }

            .nav-stat-label {
                font-size: 0.8rem;
                opacity: 0.9;
                margin-top: 5px;
            }

            /* ä¸»è¦å…§å®¹å€ */
            .container {
                max-width: 1600px;
                margin: 0 auto;
                padding: 40px 20px 20px 20px;
            }

            /* åœ°åœ–å’Œåˆ—è¡¨ä½ˆå±€ */
            .content-wrapper {
                display: grid;
                grid-template-columns: 1fr 450px;
                gap: 30px;
                margin-bottom: 30px;
            }

            /* åœ°åœ–å®¹å™¨ */
            .map-section {
                background: white;
                border-radius: 20px;
                overflow: hidden;
                box-shadow: 0 10px 40px rgba(0,0,0,0.1);
                animation: fadeInLeft 0.8s ease;
            }

            .map-header {
                background: linear-gradient(135deg, #8d6e63 0%, #6b4423 100%);
                padding: 25px 30px;
                color: white;
            }

            .map-header h2 {
                font-size: 1.8rem;
                margin-bottom: 8px;
            }

            .map-header p {
                opacity: 0.9;
                font-size: 0.95rem;
            }

            .map-container {
                width: 100%;
                height: 700px;
                position: relative;
                background: #e0e0e0;
                border-radius: 0 0 20px 20px;
            }

            .map-container #map {
                width: 100%;
                height: 100%;
                border: none;
                border-radius: 0 0 20px 20px;
            }

            /* Leaflet æ¨™è¨˜æ¨£å¼ */
            .custom-marker {
                background: none;
                border: none;
            }

            .marker-pin {
                width: 40px;
                height: 40px;
                background: linear-gradient(135deg, #d4a574 0%, #b8935f 100%);
                border-radius: 50% 50% 50% 0;
                transform: rotate(-45deg);
                position: relative;
                box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            }

            .marker-icon {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) rotate(45deg);
                font-size: 1.2rem;
            }

            /* å’–å•¡å»³åˆ—è¡¨å´é‚Šæ¬„ */
            .cafes-sidebar {
                display: flex;
                flex-direction: column;
                gap: 20px;
                animation: fadeInRight 0.8s ease;
                height: 790px;
            }

            /* å€åŸŸç¯©é¸å™¨ */
            .filter-section {
                background: white;
                padding: 20px;
                border-radius: 15px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            }

            .filter-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                cursor: pointer;
                user-select: none;
                margin-bottom: 15px;
                padding: 5px 0;
            }

            .filter-header:hover .filter-title {
                color: #d4a574;
            }

            .filter-title {
                font-size: 1rem;
                color: #5d4037;
                font-weight: bold;
                display: flex;
                align-items: center;
                gap: 8px;
                transition: color 0.3s ease;
            }

            .filter-toggle {
                font-size: 1.2rem;
                color: #8d6e63;
                transition: transform 0.3s ease;
            }

            .filter-toggle.collapsed {
                transform: rotate(-90deg);
            }

            .filter-content {
                overflow: hidden;
                transition: max-height 0.3s ease, opacity 0.3s ease;
                max-height: 500px;
                opacity: 1;
            }

            .filter-content.collapsed {
                max-height: 0;
                opacity: 0;
            }

            .filter-buttons {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }

            .filter-btn {
                padding: 8px 12px;
                background: #f5f5f5;
                border: 2px solid transparent;
                border-radius: 8px;
                color: #666;
                font-size: 0.85rem;
                cursor: pointer;
                transition: all 0.3s ease;
                text-align: center;
                font-weight: 500;
            }

            .filter-btn:hover {
                background: #efebe9;
                border-color: #d7ccc8;
                color: #5d4037;
            }

            .filter-btn.active {
                background: linear-gradient(135deg, #d4a574 0%, #b8935f 100%);
                border-color: #d4a574;
                color: white;
                font-weight: bold;
                box-shadow: 0 3px 10px rgba(212, 165, 116, 0.3);
            }

            .filter-btn.all {
                grid-column: 1 / -1;
                background: linear-gradient(135deg, #8d6e63 0%, #6b4423 100%);
                color: white;
                font-weight: bold;
            }

            .filter-btn.all:hover {
                background: linear-gradient(135deg, #6b4423 0%, #5d4037 100%);
                border-color: #8d6e63;
            }

            .filter-btn.all.active {
                background: linear-gradient(135deg, #d4a574 0%, #b8935f 100%);
                box-shadow: 0 3px 10px rgba(212, 165, 116, 0.4);
            }

            .filter-count {
                margin-top: 10px;
                text-align: center;
                color: #8d6e63;
                font-size: 0.85rem;
                font-weight: 500;
            }

            /* å’–å•¡å»³åˆ—è¡¨ */
            .cafes-list {
                display: flex;
                flex-direction: column;
                gap: 15px;
                max-height: none;
                flex: 1;
                overflow-y: auto;
                padding: 5px;
            }

            /* è‡ªè¨‚æ»¾å‹•æ¢ */
            .cafes-list::-webkit-scrollbar {
                width: 6px;
            }

            .cafes-list::-webkit-scrollbar-track {
                background: rgba(139, 110, 99, 0.1);
                border-radius: 10px;
            }

            .cafes-list::-webkit-scrollbar-thumb {
                background: rgba(139, 110, 99, 0.5);
                border-radius: 10px;
            }

            .cafes-list::-webkit-scrollbar-thumb:hover {
                background: rgba(139, 110, 99, 0.7);
            }

            /* å’–å•¡å»³å¡ç‰‡ - ç°¡æ½”ç‰ˆ */
            .cafe-card {
                background: white;
                border-radius: 12px;
                padding: 20px;
                border-left: 4px solid #8d6e63;
                box-shadow: 0 3px 15px rgba(0,0,0,0.08);
                cursor: pointer;
                transition: all 0.3s ease;
                position: relative;
            }

            .cafe-card:hover {
                transform: translateX(5px);
                box-shadow: 0 8px 25px rgba(0,0,0,0.15);
                border-left-color: #d4a574;
            }

            .cafe-card.active {
                border-left: 4px solid #d4a574;
                box-shadow: 0 8px 30px rgba(212, 165, 116, 0.4);
                background: linear-gradient(135deg, #fff 0%, #faf8f6 100%);
            }

            .cafe-card-header {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                margin-bottom: 12px;
            }

            .cafe-number {
                position: absolute;
                top: 15px;
                right: 15px;
                width: 30px;
                height: 30px;
                background: linear-gradient(135deg, #8d6e63 0%, #6b4423 100%);
                color: white;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 0.9rem;
                font-weight: bold;
            }

            .cafe-name {
                font-size: 1.2rem;
                color: #3e2723;
                font-weight: bold;
                margin-bottom: 8px;
                padding-right: 40px;
            }

            .cafe-rating {
                display: flex;
                align-items: center;
                gap: 5px;
                margin-bottom: 12px;
            }

            .stars {
                color: #ffa726;
                font-size: 0.9rem;
            }

            .rating-number {
                color: #666;
                font-size: 0.85rem;
                font-weight: bold;
            }

            .cafe-location {
                display: flex;
                align-items: flex-start;
                gap: 8px;
                color: #666;
                font-size: 0.85rem;
                margin-bottom: 10px;
                line-height: 1.4;
            }

            .location-icon {
                color: #8d6e63;
                font-size: 1rem;
                margin-top: 2px;
            }

            .cafe-tags {
                display: flex;
                gap: 6px;
                flex-wrap: wrap;
            }

            .tag {
                padding: 4px 10px;
                background: linear-gradient(135deg, #efebe9 0%, #d7ccc8 100%);
                color: #5d4037;
                border-radius: 12px;
                font-size: 0.75rem;
                font-weight: 500;
            }

            .tag.highlight {
                background: linear-gradient(135deg, #d4a574 0%, #b8935f 100%);
                color: white;
            }

            /* åº•éƒ¨è³‡è¨Šå¡ç‰‡å€ */
            .info-cards {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 25px;
                animation: fadeInUp 0.8s ease;
            }

            .info-card {
                background: white;
                border-radius: 15px;
                padding: 30px;
                text-align: center;
                box-shadow: 0 5px 20px rgba(0,0,0,0.08);
                transition: all 0.3s ease;
                border-top: 4px solid transparent;
            }

            .info-card:nth-child(1) {
                border-top-color: #8d6e63;
            }

            .info-card:nth-child(2) {
                border-top-color: #d4a574;
            }

            .info-card:nth-child(3) {
                border-top-color: #a1887f;
            }

            .info-card:nth-child(4) {
                border-top-color: #bcaaa4;
            }

            .info-card:hover {
                transform: translateY(-8px);
                box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            }

            .info-icon {
                font-size: 3rem;
                margin-bottom: 15px;
            }

            .info-title {
                font-size: 1.1rem;
                color: #5d4037;
                font-weight: bold;
                margin-bottom: 10px;
            }

            .info-description {
                font-size: 0.9rem;
                color: #666;
                line-height: 1.6;
            }

            /* é å°¾ */
            .footer {
                margin-top: 60px;
                padding: 30px 20px;
                text-align: center;
                background: linear-gradient(135deg, #6b4423 0%, #3e2723 100%);
                color: white;
            }

            .footer-content {
                max-width: 1600px;
                margin: 0 auto;
            }

            .footer p {
                margin-bottom: 10px;
                opacity: 0.9;
            }

            .footer a {
                color: #d4a574;
                text-decoration: none;
                transition: color 0.3s ease;
            }

            .footer a:hover {
                color: #ffa726;
            }

            /* è¼‰å…¥å‹•ç•« */
            .loading {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #6b4423 0%, #3e2723 100%);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 9999;
                animation: fadeOut 0.5s ease 1.5s forwards;
            }

            .loading-icon {
                font-size: 5rem;
                margin-bottom: 20px;
                animation: bounce 1s infinite;
            }

            .loading-text {
                color: white;
                font-size: 1.5rem;
            }

            /* å‹•ç•«å®šç¾© */
            @keyframes slideDown {
                from {
                    transform: translateY(-100%);
                    opacity: 0;
                }
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }

            @keyframes fadeInLeft {
                from {
                    opacity: 0;
                    transform: translateX(-50px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            @keyframes fadeInRight {
                from {
                    opacity: 0;
                    transform: translateX(50px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(50px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes fadeOut {
                to {
                    opacity: 0;
                    pointer-events: none;
                    display: none;
                }
            }

            @keyframes bounce {
                0%, 100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-20px);
                }
            }

            @keyframes logoBounce {
                0%, 100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-8px);
                }
            }

            /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
            @media (max-width: 1200px) {
                .content-wrapper {
                    grid-template-columns: 1fr;
                }

                .cafes-sidebar {
                    order: -1;
                }

                .cafes-list {
                    max-height: none;
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                }

                .map-container {
                    height: 500px;
                }
            }

            @media (max-width: 768px) {
                .navbar {
                    padding: 15px 20px;
                }

                .logo-text h1 {
                    font-size: 1.3rem;
                }

                .logo-icon {
                    font-size: 2rem;
                }

                .nav-stats {
                    display: none;
                }

                .container {
                    padding: 20px 15px;
                }

                .cafes-list {
                    grid-template-columns: 1fr;
                }

                .map-container {
                    height: 400px;
                }

                .info-cards {
                    grid-template-columns: 1fr;
                }
            }

            /* æµ®å‹•æŒ‰éˆ• */
            .floating-btn {
                position: fixed;
                bottom: 30px;
                right: 30px;
                width: 60px;
                height: 60px;
                background: linear-gradient(135deg, #d4a574 0%, #b8935f 100%);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                color: white;
                box-shadow: 0 5px 20px rgba(212, 165, 116, 0.4);
                cursor: pointer;
                transition: all 0.3s ease;
                z-index: 999;
                animation: pulse 2s infinite;
            }

            .floating-btn:hover {
                transform: scale(1.1);
                box-shadow: 0 8px 30px rgba(212, 165, 116, 0.6);
            }

            @keyframes pulse {
                0%, 100% {
                    box-shadow: 0 5px 20px rgba(212, 165, 116, 0.4);
                }
                50% {
                    box-shadow: 0 5px 30px rgba(212, 165, 116, 0.7);
                }
            }

            /* ===== æ–°å¢å‹•ç•«æ•ˆæœ ===== */

            /* å’–å•¡æ¯å†’ç…™å‹•ç•« */
            .logo-icon {
                position: relative;
            }

            .logo-icon::before,
            .logo-icon::after {
                content: '~';
                position: absolute;
                top: -15px;
                font-size: 1rem;
                color: rgba(255, 255, 255, 0.6);
                animation: steam 2s ease-in-out infinite;
            }

            .logo-icon::before {
                left: 35%;
                animation-delay: 0s;
            }

            .logo-icon::after {
                left: 55%;
                animation-delay: 0.5s;
            }

            @keyframes steam {
                0% {
                    transform: translateY(0) scale(1);
                    opacity: 0;
                }
                50% {
                    opacity: 0.8;
                }
                100% {
                    transform: translateY(-20px) scale(1.5);
                    opacity: 0;
                }
            }

            /* å¡ç‰‡æ»¾å‹•é€²å ´å‹•ç•« */
            .cafe-card {
                opacity: 0;
                transform: translateY(30px);
                animation: cardFadeIn 0.6s ease forwards;
            }

            .cafe-card:nth-child(1) { animation-delay: 0.1s; }
            .cafe-card:nth-child(2) { animation-delay: 0.15s; }
            .cafe-card:nth-child(3) { animation-delay: 0.2s; }
            .cafe-card:nth-child(4) { animation-delay: 0.25s; }
            .cafe-card:nth-child(5) { animation-delay: 0.3s; }
            .cafe-card:nth-child(6) { animation-delay: 0.35s; }
            .cafe-card:nth-child(7) { animation-delay: 0.4s; }
            .cafe-card:nth-child(8) { animation-delay: 0.45s; }
            .cafe-card:nth-child(9) { animation-delay: 0.5s; }
            .cafe-card:nth-child(10) { animation-delay: 0.55s; }

            @keyframes cardFadeIn {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            /* æ˜Ÿæ˜Ÿé–ƒçˆå‹•ç•« */
            .stars {
                animation: starTwinkle 2s ease-in-out infinite;
            }

            @keyframes starTwinkle {
                0%, 100% {
                    text-shadow: 0 0 5px rgba(255, 167, 38, 0.3);
                }
                50% {
                    text-shadow: 0 0 15px rgba(255, 167, 38, 0.8), 0 0 25px rgba(255, 167, 38, 0.4);
                }
            }

            /* æ¨™ç±¤æ‡¸åœå½ˆè·³å‹•ç•« */
            .tag {
                transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            .tag:hover {
                transform: scale(1.1) translateY(-3px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            }

            /* è³‡è¨Šå¡ç‰‡åœ–æ¨™å‹•ç•« */
            .info-icon {
                transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                display: inline-block;
            }

            .info-card:hover .info-icon {
                transform: scale(1.3) rotate(15deg);
                animation: iconBounce 0.6s ease;
            }

            @keyframes iconBounce {
                0%, 100% { transform: scale(1.3) rotate(15deg); }
                25% { transform: scale(1.4) rotate(-10deg); }
                50% { transform: scale(1.2) rotate(20deg); }
                75% { transform: scale(1.35) rotate(-5deg); }
            }

            /* æ•¸å­—è¨ˆæ•¸å‹•ç•«æ•ˆæœï¼ˆé…åˆ JSï¼‰*/
            .nav-stat-number {
                transition: all 0.3s ease;
            }

            .nav-stat-number.counting {
                animation: countPulse 0.5s ease;
            }

            @keyframes countPulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.2); color: #ffa726; }
            }

            /* å’–å•¡å»³å¡ç‰‡é¸ä¸­å½ˆè·³ */
            .cafe-card.active {
                animation: cardActive 0.5s ease;
            }

            @keyframes cardActive {
                0% { transform: scale(1); }
                30% { transform: scale(1.03); }
                60% { transform: scale(0.98); }
                100% { transform: scale(1); }
            }

            /* ç¯©é¸æŒ‰éˆ•æ³¢ç´‹æ•ˆæœ */
            .filter-btn {
                position: relative;
                overflow: hidden;
            }

            .filter-btn::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition: width 0.6s ease, height 0.6s ease;
            }

            .filter-btn:active::after {
                width: 200px;
                height: 200px;
            }

            /* åœ°åœ–æ¨™è¨˜å½ˆè·³å‹•ç•« */
            .marker-pin {
                transition: all 0.3s ease;
            }

            .marker-pin.bounce {
                animation: markerBounce 0.8s ease;
            }

            @keyframes markerBounce {
                0%, 100% { transform: rotate(-45deg) translateY(0); }
                20% { transform: rotate(-45deg) translateY(-15px); }
                40% { transform: rotate(-45deg) translateY(0); }
                60% { transform: rotate(-45deg) translateY(-8px); }
                80% { transform: rotate(-45deg) translateY(0); }
            }

            /* å’–å•¡å»³ç·¨è™Ÿæ‡¸åœæ•ˆæœ */
            .cafe-number {
                transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            .cafe-card:hover .cafe-number {
                transform: scale(1.15) rotate(10deg);
                background: linear-gradient(135deg, #d4a574 0%, #b8935f 100%);
            }

            /* ä½ç½®åœ–æ¨™è·³å‹• */
            .location-icon {
                display: inline-block;
                animation: locationPulse 2s ease-in-out infinite;
            }

            @keyframes locationPulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.2); }
            }

            /* åœ°åœ–å€å¡Šæ‡¸åœå…‰æšˆ */
            .map-section {
                transition: box-shadow 0.4s ease;
            }

            .map-section:hover {
                box-shadow: 0 15px 50px rgba(139, 110, 99, 0.2);
            }

            /* é å°¾é€£çµæ‡¸åœå‹•ç•« */
            .footer a {
                position: relative;
            }

            .footer a::after {
                content: '';
                position: absolute;
                bottom: -2px;
                left: 0;
                width: 0;
                height: 2px;
                background: #ffa726;
                transition: width 0.3s ease;
            }

            .footer a:hover::after {
                width: 100%;
            }

            /* æ»¾å‹•æ™‚å°èˆªæ¬„é™°å½±åŠ æ·± */
            .navbar.scrolled {
                box-shadow: 0 5px 30px rgba(0, 0, 0, 0.2);
            }

            /* æµ®å‹•æŒ‰éˆ•æ‡¸åœæ—‹è½‰ */
            .floating-btn:hover {
                transform: scale(1.1) rotate(360deg);
                transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            /* è¼‰å…¥å‹•ç•«çš„å’–å•¡æ¯æ—‹è½‰ */
            .loading-icon {
                animation: bounce 1s infinite, spin 3s linear infinite;
            }

            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }

            /* åœ°åœ–æ¨™è¨˜æç¤º */
            .map-overlay {
                position: absolute;
                bottom: 20px;
                left: 20px;
                background: rgba(255, 255, 255, 0.95);
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 3px 15px rgba(0,0,0,0.2);
                z-index: 10;
                pointer-events: none;
            }

            .map-overlay p {
                color: #5d4037;
                font-size: 0.9rem;
                margin-bottom: 5px;
            }

            .map-overlay p:last-child {
                margin-bottom: 0;
                color: #8d6e63;
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <!-- è¼‰å…¥å‹•ç•« -->
        <div class="loading">
            <div class="loading-icon">â˜•</div>
            <div class="loading-text">æ­£åœ¨ç‚ºæ‚¨å°‹æ‰¾æœ€æ£’çš„å’–å•¡å»³...</div>
        </div>

        <!-- é ‚éƒ¨å°èˆªæ¬„ -->
        <nav class="navbar">
            <div class="nav-content">
                <div class="logo">
                    <div class="logo-icon">â˜•</div>
                    <div class="logo-text">
                        <h1>å°åŒ—å’–å•¡åœ°åœ–</h1>
                        <p>æ¢ç´¢åŸå¸‚ä¸­çš„å’–å•¡é¦™ï¼Œå°‹æ‰¾ä½ çš„å°ˆå±¬å’–å•¡å»³</p>
                    </div>
                </div>
                <div class="nav-right">
                    <div class="nav-stats">
                        <div class="nav-stat-item">
                            <div class="nav-stat-number">26</div>
                            <div class="nav-stat-label">ç²¾é¸å’–å•¡å»³</div>
                        </div>
                        <div class="nav-stat-item">
                            <div class="nav-stat-number">4.8</div>
                            <div class="nav-stat-label">å¹³å‡è©•åˆ†</div>
                        </div>
                        <div class="nav-stat-item">
                            <div class="nav-stat-number">8+</div>
                            <div class="nav-stat-label">è¡Œæ”¿å€</div>
                        </div>
                    </div>
                    <a href="index.html" class="home-btn">
                        <span class="home-btn-icon">ğŸ </span>
                        <span>å›é¦–é </span>
                    </a>
                </div>
            </div>
        </nav>

        <!-- ä¸»è¦å…§å®¹ -->
        <div class="container">
            <div class="content-wrapper">
                <!-- åœ°åœ–å€åŸŸ -->
                <div class="map-section">
                    <div class="map-header">
                        <h2>ğŸ“ å’–å•¡å»³åœ°åœ–</h2>
                        <p>é»æ“Šå³å´å’–å•¡å»³å¡ç‰‡ï¼Œåœ¨åœ°åœ–ä¸ŠæŸ¥çœ‹ä½ç½®</p>
                    </div>
                    <div class="map-container">
                        <!-- OpenStreetMap -->
                        <div id="map"></div>
                        <div class="map-overlay">
                            <p>ğŸ’¡ ä½¿ç”¨æç¤º</p>
                            <p>é»æ“Šå’–å•¡å»³å¡ç‰‡å³å¯åœ¨åœ°åœ–ä¸Šå®šä½</p>
                        </div>
                    </div>
                </div>

                <!-- å’–å•¡å»³åˆ—è¡¨å´é‚Šæ¬„ -->
                <div class="cafes-sidebar">
                    <!-- å€åŸŸç¯©é¸å™¨ -->
                    <div class="filter-section">
                        <div class="filter-header" id="filterHeader">
                            <div class="filter-title">
                                <span>ğŸ”</span>
                                <span>ä¾è¡Œæ”¿å€ç¯©é¸</span>
                            </div>
                            <span class="filter-toggle">â–¼</span>
                        </div>
                        <div class="filter-content" id="filterContent">
                            <div class="filter-buttons">
                                <button class="filter-btn all active" data-district="all">å…¨éƒ¨é¡¯ç¤º (26)</button>
                                <button class="filter-btn" data-district="ä¿¡ç¾©å€">ä¿¡ç¾©å€ (1)</button>
                                <button class="filter-btn" data-district="æ¾å±±å€">æ¾å±±å€ (7)</button>
                                <button class="filter-btn" data-district="ä¸­å±±å€">ä¸­å±±å€ (4)</button>
                                <button class="filter-btn" data-district="å¤§å®‰å€">å¤§å®‰å€ (2)</button>
                                <button class="filter-btn" data-district="å¤§åŒå€">å¤§åŒå€ (4)</button>
                                <button class="filter-btn" data-district="ä¸­æ­£å€">ä¸­æ­£å€ (2)</button>
                                <button class="filter-btn" data-district="å£«æ—å€">å£«æ—å€ (3)</button>
                                <button class="filter-btn" data-district="å…§æ¹–å€">å…§æ¹–å€ (1)</button>
                                <button class="filter-btn" data-district="åŒ—æŠ•å€">åŒ—æŠ•å€ (2)</button>
                            </div>
                            <div class="filter-count">ç›®å‰é¡¯ç¤ºï¼š<span id="currentCount">26</span> é–“å’–å•¡å»³</div>
                        </div>
                    </div>

                    <div class="cafes-list">
                        <!-- ä¿¡ç¾©å€ -->
                        <div class="cafe-card" data-location="25.0330,121.5654" data-name="Tropo Coffee" data-district="ä¿¡ç¾©å€">
                            <div class="cafe-number">1</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">Tropo Coffee</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>ä¿¡ç¾©å€ - æ‘©ç™»å¾©å¤çš„è¿·äººç©ºé–“</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">ç²¾å“å’–å•¡</span>
                                <span class="tag">å¾©å¤é¢¨</span>
                            </div>
                        </div>

                        <!-- æ¾å±±å€ -->
                        <div class="cafe-card" data-location="25.0590,121.5570" data-name="æ±©å’–å•¡" data-district="æ¾å±±å€">
                            <div class="cafe-number">2</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">æ±©å’–å•¡</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.7</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>æ¾å±±å€ - éµçš®å±‹è£¡çš„æ—¥å¼ä¾˜å¯‚ç©ºé–“</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">æ—¥å¼é¢¨æ ¼</span>
                                <span class="tag">ä¾˜å¯‚ç¾å­¸</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0600,121.5580" data-name="çœŸæ‹¾ç”Ÿæ´»" data-district="æ¾å±±å€">
                            <div class="cafe-number">3</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">çœŸæ‹¾ç”Ÿæ´»</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.6</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>æ¾å±±å€ - åŒ—æ­é„‰æ‘é¢¨Brunch Cafe</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">åŒ—æ­é¢¨</span>
                                <span class="tag">Brunch</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0605,121.5590" data-name="PECKISH Bakery" data-district="æ¾å±±å€">
                            <div class="cafe-number">4</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">PECKISH Bakery</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>æ¾å±±å€ - è¨­è¨ˆæ„Ÿå¯é Œå°ˆè³£Cafe</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">å¯é Œå°ˆè³£</span>
                                <span class="tag">è¨­è¨ˆæ„Ÿ</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0595,121.5598" data-name="PAUSE studio" data-district="æ¾å±±å€">
                            <div class="cafe-number">5</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">PAUSE studio</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>æ¾å±±å€ - æ°‘ç”Ÿç¤¾å€ç´”ç™½éŸ“ç³»å’–å•¡å»³</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">ç´”ç™½éŸ“ç³»</span>
                                <span class="tag">ä¸é™æ™‚</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0585,121.5575" data-name="ALL DAY ROASTING COMPANY" data-district="æ¾å±±å€">
                            <div class="cafe-number">6</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">ALL DAY ROASTING</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.7</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>æ¾å±±å€ - å·¥æ¥­é¢¨è‡ªå®¶çƒ˜ç„™å’–å•¡</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">è‡ªå®¶çƒ˜ç„™</span>
                                <span class="tag">å·¥æ¥­é¢¨</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0610,121.5595" data-name="CAFEAO" data-district="æ¾å±±å€">
                            <div class="cafe-number">7</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">CAFEAO</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.6</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>æ¾å±±å€ - é™³å† å¸Œå‰µç«‹å’–å•¡æ–°å“ç‰Œ</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">æ½®æµå“ç‰Œ</span>
                                <span class="tag">æ™‚å°š</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0620,121.5600" data-name="å¥½æ—¥å­å’–å•¡" data-district="æ¾å±±å€">
                            <div class="cafe-number">8</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">å¥½æ—¥å­å’–å•¡</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.5</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>æ¾å±±å€ - æ„Ÿå—å»¶å£½è¡—æ—¥å¸¸æ°›åœ</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag">æ—¥å¸¸å’–å•¡</span>
                                <span class="tag">ç¤¾å€</span>
                            </div>
                        </div>

                        <!-- ä¸­å±±å€ -->
                        <div class="cafe-card" data-location="25.0539,121.5246" data-name="æ˜¥ç§‹æ›¸åº—" data-district="ä¸­å±±å€">
                            <div class="cafe-number">9</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">æ˜¥ç§‹æ›¸åº—</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.7</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>ä¸­å±±å€ - èµ¤å³°è¡—è€å®…çš„æ–‡é’å’–å•¡</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">è€å®…</span>
                                <span class="tag">æ›¸åº—</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0630,121.5280" data-name="Hoto Cafe" data-district="ä¸­å±±å€">
                            <div class="cafe-number">10</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">Hoto Cafe</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>ä¸­å±±å€ - å…¬åœ’æ—æ—¥ç³»å’–å•¡ç”œé»åº—</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">æ—¥ç³»</span>
                                <span class="tag">ç”œé»</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0640,121.5290" data-name="Keystone Coffee" data-district="ä¸­å±±å€">
                            <div class="cafe-number">11</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">Keystone Coffee</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>ä¸­å±±å€ - è·äººçƒ˜ç„™å’–å•¡</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">è·äººçƒ˜ç„™</span>
                                <span class="tag">ç²¾å“å’–å•¡</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0545,121.5250" data-name="æ™‚å·® Jetlag" data-district="ä¸­å±±å€">
                            <div class="cafe-number">12</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">æ™‚å·® Jetlag</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.6</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>ä¸­å±±å€ - é¦™æ¸¯ç©ºå°‘æ‰“é€ çš„å’–å•¡è§’è½</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag">é¦™æ¸¯é¢¨</span>
                                <span class="tag">ç‰¹è‰²</span>
                            </div>
                        </div>

                        <!-- å¤§å®‰å€ -->
                        <div class="cafe-card" data-location="25.0340,121.5440" data-name="å¥½ç‰© Spirit" data-district="å¤§å®‰å€">
                            <div class="cafe-number">13</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">å¥½ç‰© Spirit å’–å•¡</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å¤§å®‰å€ - å¾©å¤æ­é¢¨è€å®…</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">å¾©å¤æ­é¢¨</span>
                                <span class="tag">è€å®…</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0360,121.5450" data-name="Tamed Fox" data-district="å¤§å®‰å€">
                            <div class="cafe-number">14</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">Tamed Fox</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.7</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å¤§å®‰å€ - èˆ’å¿ƒç¾å¼Cafeå¥åº·è”¬é£Ÿ</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">å¥åº·è”¬é£Ÿ</span>
                                <span class="tag">ç¾å¼</span>
                            </div>
                        </div>

                        <!-- å¤§åŒå€ -->
                        <div class="cafe-card" data-location="25.0539,121.5195" data-name="å¹»çŒ»å®¶å’–å•¡" data-district="å¤§åŒå€">
                            <div class="cafe-number">15</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">å¹»çŒ»å®¶å’–å•¡</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å¤§åŒå€ - è¸é€²å»ç©¿è¶Šåˆ°äº¬éƒ½</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">äº¬éƒ½é¢¨æ ¼</span>
                                <span class="tag">è€å®…</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0550,121.5200" data-name="é»‘éœ²å’–å•¡" data-district="å¤§åŒå€">
                            <div class="cafe-number">16</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">é»‘éœ²å’–å•¡</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.7</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å¤§åŒå€ - ç‡Ÿæ¥­è‡³æ·±å¤œçš„äº¬éƒ½å¤é¢¨å’–å•¡å»³</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">äº¬éƒ½å¤é¢¨</span>
                                <span class="tag">æ·±å¤œç‡Ÿæ¥­</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0560,121.5100" data-name="Modern Mode" data-district="å¤§åŒå€">
                            <div class="cafe-number">17</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">Modern Mode</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å¤§åŒå€ - å¤§ç¨»åŸ•è£¡çš„å·´é»å¾©å¤å’–å•¡å»³</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">å·´é»å¾©å¤</span>
                                <span class="tag">å¤§ç¨»åŸ•</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0520,121.5230" data-name="ç¾Šæ¯›èˆ‡èŠ± å…‰é»" data-district="å¤§åŒå€">
                            <div class="cafe-number">18</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">ç¾Šæ¯›èˆ‡èŠ± å…‰é»</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                        <span class="rating-number">4.6</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å¤§åŒå€ - æ¯”é„°åŸå¸‚é›»å½±é™¢çš„æ¡å…‰å’–å•¡å»³</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag">æ¡å…‰ä½³</span>
                                <span class="tag">é›»å½±é™¢æ—</span>
                            </div>
                        </div>

                        <!-- ä¸­æ­£å€ -->
                        <div class="cafe-card" data-location="25.0420,121.5180" data-name="ç›´ç‰©æ–‡å…·Cafe" data-district="ä¸­æ­£å€">
                            <div class="cafe-number">19</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">ç›´ç‰©æ–‡å…·Cafe</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>ä¸­æ­£å€ - å°ç£é¦–é–“æ–‡å…·å’–å•¡å»³</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">æ–‡å…·ä¸»é¡Œ</span>
                                <span class="tag">é¦–å‰µ</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.0490,121.5140" data-name="MKCR å±±å°å­©å’–å•¡" data-district="ä¸­æ­£å€">
                            <div class="cafe-number">20</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">MKCR å±±å°å­©å’–å•¡</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>ä¸­æ­£å€ - åŒ—é–€æ—å“è³ªè‡ªçƒ˜å’–å•¡</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">è‡ªçƒ˜å’–å•¡</span>
                                <span class="tag">åŒ—é–€</span>
                            </div>
                        </div>

                        <!-- å£«æ—å€ -->
                        <div class="cafe-card" data-location="25.1019,121.5512" data-name="é‡äººèŠ±åœ’" data-district="å£«æ—å€">
                            <div class="cafe-number">21</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">é‡äººèŠ±åœ’</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å£«æ—å€ - æ²ˆæµ¸åœ¨å±±ä¸­æ£®æ—çš„ç„¡é™æ™‚ç¥•å¢ƒ</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">å±±ä¸­ç§˜å¢ƒ</span>
                                <span class="tag">ä¸é™æ™‚</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.1280,121.5450" data-name="è±†ç•™æ£®æ—" data-district="å£«æ—å€">
                            <div class="cafe-number">22</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">è±†ç•™æ£®æ—</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å£«æ—å€ - é™½æ˜å±±ä¸‹CAMAç«¹æ—è€å®…ç‰¹åˆ¥åº—</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">ç«¹æ—è€å®…</span>
                                <span class="tag">é™½æ˜å±±</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.1369,121.5473" data-name="å¥½æ¨£ç§˜å¢ƒ" data-district="å£«æ—å€">
                            <div class="cafe-number">23</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">å¥½æ¨£ç§˜å¢ƒ</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å£«æ—å€ - èå±±è·¯ä¸Šçš„ç´”ç™½éœè¬èŠ±åœ’</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">ç´”ç™½èŠ±åœ’</span>
                                <span class="tag">ç§˜å¢ƒ</span>
                            </div>
                        </div>

                        <!-- å…§æ¹–å€ -->
                        <div class="cafe-card" data-location="25.0820,121.5880" data-name="æ–‡å¿ƒè—æ‰€" data-district="å…§æ¹–å€">
                            <div class="cafe-number">24</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">æ–‡å¿ƒè—æ‰€</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>å…§æ¹–å€ - æœ€ç¾æ›¸åº—è£¡é–±è®€å’Œå–å’–å•¡</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">æœ€ç¾æ›¸åº—</span>
                                <span class="tag">è—è¡“ç©ºé–“</span>
                            </div>
                        </div>

                        <!-- åŒ—æŠ•å€ -->
                        <div class="cafe-card" data-location="25.1370,121.5010" data-name="ç© å’–å•¡" data-district="åŒ—æŠ•å€">
                            <div class="cafe-number">25</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">ç© å’–å•¡</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.8</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>åŒ—æŠ•å€ - å¿…åšé…’é¦™ææ‹‰ç±³è˜‡ã€å‰µæ„èª¿é…’å’–å•¡</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">ææ‹‰ç±³è˜‡</span>
                                <span class="tag">èª¿é…’å’–å•¡</span>
                            </div>
                        </div>

                        <div class="cafe-card" data-location="25.1520,121.5150" data-name="å±±ä¸ŠèŠ" data-district="åŒ—æŠ•å€">
                            <div class="cafe-number">26</div>
                            <div class="cafe-card-header">
                                <div>
                                    <h3 class="cafe-name">å±±ä¸ŠèŠ</h3>
                                    <div class="cafe-rating">
                                        <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                        <span class="rating-number">4.9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="cafe-location">
                                <span class="location-icon">ğŸ“</span>
                                <span>åŒ—æŠ•å€ - å‘¼å¸èŠ¬å¤šç²¾æ“¼è²“çš„ç¥•å¯†èŠ±åœ’</span>
                            </div>
                            <div class="cafe-tags">
                                <span class="tag highlight">æ£®æ—ç³»</span>
                                <span class="tag">è²“å’ª</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- åº•éƒ¨è³‡è¨Šå¡ç‰‡ -->
            <div class="info-cards">
                <div class="info-card">
                    <div class="info-icon">â˜•</div>
                    <h3 class="info-title">ç²¾é¸å’–å•¡å»³</h3>
                    <p class="info-description">åš´é¸å°åŒ—å¸‚å„å€ç‰¹è‰²å’–å•¡å»³ï¼Œæ¯é–“éƒ½æœ‰ç¨ç‰¹é¢¨æ ¼å’Œæ•…äº‹</p>
                </div>
                <div class="info-card">
                    <div class="info-icon">â­</div>
                    <h3 class="info-title">é«˜è©•åˆ†æ¨è–¦</h3>
                    <p class="info-description">æ‰€æœ‰å’–å•¡å»³å¹³å‡è©•åˆ†4.7ä»¥ä¸Šï¼Œå“è³ªæœ‰ä¿è­‰</p>
                </div>
                <div class="info-card">
                    <div class="info-icon">ğŸ•</div>
                    <h3 class="info-title">ä¸é™æ™‚ç©ºé–“</h3>
                    <p class="info-description">å¤šé–“å’–å•¡å»³æä¾›ä¸é™æ™‚æœå‹™ï¼Œé©åˆå·¥ä½œèˆ‡é–±è®€</p>
                </div>
                <div class="info-card">
                    <div class="info-icon">ğŸ“¸</div>
                    <h3 class="info-title">IGæ‰“å¡ç†±é»</h3>
                    <p class="info-description">ç²¾é¸å¤šé–“é©åˆæ‹ç…§çš„ç‰¹è‰²ç©ºé–“ï¼Œç•™ä¸‹ç¾å¥½å›æ†¶</p>
                </div>
            </div>
        </div>

        <!-- æµ®å‹•æŒ‰éˆ• -->
        <div class="floating-btn" title="å›åˆ°é ‚éƒ¨">
            â†‘
        </div>

        <!-- é å°¾ -->
        <footer class="footer">
            <div class="footer-content">
                <p>è³‡æ–™ä¾†æºï¼š<a href="https://iceoffice.com.tw/taipeicafemap/" target="_blank">é£Ÿæ”äººç”Ÿ - å°åŒ—å’–å•¡å»³åœ°åœ–</a></p>
                <p>Â© 2025 å°åŒ—å’–å•¡åœ°åœ– | æ¢ç´¢åŸå¸‚ä¸­çš„æ¯ä¸€æ¯å’–å•¡é¦™</p>
                <p style="margin-top: 15px; font-size: 0.9rem;">è£½ä½œè€…ï¼šå‘‚å®œè“ N1116445</p>
            </div>
        </footer>

        <!-- Leaflet JS -->
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        
        <script>
            // å’–å•¡å»³è³‡æ–™ï¼ˆ26é–“ï¼‰
            const cafes = [
                { name: 'Tropo Coffee', lat: 25.0330, lng: 121.5654, district: 'ä¿¡ç¾©å€', desc: 'æ‘©ç™»å¾©å¤çš„è¿·äººç©ºé–“' },
                { name: 'æ±©å’–å•¡', lat: 25.0590, lng: 121.5570, district: 'æ¾å±±å€', desc: 'éµçš®å±‹è£¡çš„æ—¥å¼ä¾˜å¯‚ç©ºé–“' },
                { name: 'çœŸæ‹¾ç”Ÿæ´»', lat: 25.0600, lng: 121.5580, district: 'æ¾å±±å€', desc: 'åŒ—æ­é„‰æ‘é¢¨Brunch Cafe' },
                { name: 'PECKISH Bakery', lat: 25.0605, lng: 121.5590, district: 'æ¾å±±å€', desc: 'è¨­è¨ˆæ„Ÿå¯é Œå°ˆè³£Cafe' },
                { name: 'PAUSE studio', lat: 25.0595, lng: 121.5598, district: 'æ¾å±±å€', desc: 'æ°‘ç”Ÿç¤¾å€ç´”ç™½éŸ“ç³»å’–å•¡å»³' },
                { name: 'ALL DAY ROASTING', lat: 25.0585, lng: 121.5575, district: 'æ¾å±±å€', desc: 'å·¥æ¥­é¢¨è‡ªå®¶çƒ˜ç„™å’–å•¡' },
                { name: 'CAFEAO', lat: 25.0610, lng: 121.5595, district: 'æ¾å±±å€', desc: 'é™³å† å¸Œå‰µç«‹å’–å•¡æ–°å“ç‰Œ' },
                { name: 'å¥½æ—¥å­å’–å•¡', lat: 25.0620, lng: 121.5600, district: 'æ¾å±±å€', desc: 'æ„Ÿå—å»¶å£½è¡—æ—¥å¸¸æ°›åœ' },
                { name: 'æ˜¥ç§‹æ›¸åº—', lat: 25.0539, lng: 121.5246, district: 'ä¸­å±±å€', desc: 'èµ¤å³°è¡—è€å®…çš„æ–‡é’å’–å•¡' },
                { name: 'Hoto Cafe', lat: 25.0630, lng: 121.5280, district: 'ä¸­å±±å€', desc: 'å…¬åœ’æ—æ—¥ç³»å’–å•¡ç”œé»åº—' },
                { name: 'Keystone Coffee', lat: 25.0640, lng: 121.5290, district: 'ä¸­å±±å€', desc: 'è·äººçƒ˜ç„™å’–å•¡' },
                { name: 'æ™‚å·® Jetlag', lat: 25.0545, lng: 121.5250, district: 'ä¸­å±±å€', desc: 'é¦™æ¸¯ç©ºå°‘æ‰“é€ çš„å’–å•¡è§’è½' },
                { name: 'å¥½ç‰© Spirit', lat: 25.0340, lng: 121.5440, district: 'å¤§å®‰å€', desc: 'å¾©å¤æ­é¢¨è€å®…' },
                { name: 'Tamed Fox', lat: 25.0360, lng: 121.5450, district: 'å¤§å®‰å€', desc: 'èˆ’å¿ƒç¾å¼Cafeå¥åº·è”¬é£Ÿ' },
                { name: 'å¹»çŒ»å®¶å’–å•¡', lat: 25.0539, lng: 121.5195, district: 'å¤§åŒå€', desc: 'è¸é€²å»ç©¿è¶Šåˆ°äº¬éƒ½' },
                { name: 'é»‘éœ²å’–å•¡', lat: 25.0550, lng: 121.5200, district: 'å¤§åŒå€', desc: 'ç‡Ÿæ¥­è‡³æ·±å¤œçš„äº¬éƒ½å¤é¢¨å’–å•¡å»³' },
                { name: 'Modern Mode', lat: 25.0560, lng: 121.5100, district: 'å¤§åŒå€', desc: 'å¤§ç¨»åŸ•è£¡çš„å·´é»å¾©å¤å’–å•¡å»³' },
                { name: 'ç¾Šæ¯›èˆ‡èŠ± å…‰é»', lat: 25.0520, lng: 121.5230, district: 'å¤§åŒå€', desc: 'æ¯”é„°åŸå¸‚é›»å½±é™¢çš„æ¡å…‰å’–å•¡å»³' },
                { name: 'ç›´ç‰©æ–‡å…·Cafe', lat: 25.0420, lng: 121.5180, district: 'ä¸­æ­£å€', desc: 'å°ç£é¦–é–“æ–‡å…·å’–å•¡å»³' },
                { name: 'MKCR å±±å°å­©å’–å•¡', lat: 25.0490, lng: 121.5140, district: 'ä¸­æ­£å€', desc: 'åŒ—é–€æ—å“è³ªè‡ªçƒ˜å’–å•¡' },
                { name: 'é‡äººèŠ±åœ’', lat: 25.1019, lng: 121.5512, district: 'å£«æ—å€', desc: 'æ²ˆæµ¸åœ¨å±±ä¸­æ£®æ—çš„ç„¡é™æ™‚ç¥•å¢ƒ' },
                { name: 'è±†ç•™æ£®æ—', lat: 25.1280, lng: 121.5450, district: 'å£«æ—å€', desc: 'é™½æ˜å±±ä¸‹CAMAç«¹æ—è€å®…ç‰¹åˆ¥åº—' },
                { name: 'å¥½æ¨£ç§˜å¢ƒ', lat: 25.1369, lng: 121.5473, district: 'å£«æ—å€', desc: 'èå±±è·¯ä¸Šçš„ç´”ç™½éœè¬èŠ±åœ’' },
                { name: 'æ–‡å¿ƒè—æ‰€', lat: 25.0820, lng: 121.5880, district: 'å…§æ¹–å€', desc: 'æœ€ç¾æ›¸åº—è£¡é–±è®€å’Œå–å’–å•¡' },
                { name: 'ç© å’–å•¡', lat: 25.1370, lng: 121.5010, district: 'åŒ—æŠ•å€', desc: 'å¿…åšé…’é¦™ææ‹‰ç±³è˜‡ã€å‰µæ„èª¿é…’å’–å•¡' },
                { name: 'å±±ä¸ŠèŠ', lat: 25.1520, lng: 121.5150, district: 'åŒ—æŠ•å€', desc: 'å‘¼å¸èŠ¬å¤šç²¾æ“¼è²“çš„ç¥•å¯†èŠ±åœ’' }
            ];

            // åˆå§‹åŒ–åœ°åœ–
            let map;
            let markers = [];
            
            window.addEventListener('load', function() {
                // åˆå§‹åŒ–åœ°åœ–ï¼ˆå°åŒ—å¸‚ä¸­å¿ƒï¼‰
                map = L.map('map').setView([25.0478, 121.5318], 12);
                
                // æ·»åŠ åœ°åœ–åœ–å±¤ï¼ˆä½¿ç”¨ OpenStreetMapï¼‰
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                    maxZoom: 19
                }).addTo(map);
                
                // æ·»åŠ å’–å•¡å»³æ¨™è¨˜
                cafes.forEach((cafe, index) => {
                    // å‰µå»ºè‡ªå®šç¾©åœ–æ¨™
                    const coffeeIcon = L.divIcon({
                        className: 'custom-marker',
                        html: `<div class="marker-pin"><span class="marker-icon">â˜•</span></div>`,
                        iconSize: [40, 40],
                        iconAnchor: [20, 40],
                        popupAnchor: [0, -40]
                    });
                    
                    // æ·»åŠ æ¨™è¨˜
                    const marker = L.marker([cafe.lat, cafe.lng], { icon: coffeeIcon })
                        .addTo(map)
                        .bindPopup(`
                            <div style="text-align: center; min-width: 180px;">
                                <strong style="font-size: 1.1rem; color: #5d4037; display: block; margin-bottom: 8px;">${cafe.name}</strong>
                                <span style="font-size: 0.85rem; color: #8d6e63; display: block; margin-bottom: 5px;">ğŸ“ ${cafe.district}</span>
                                <span style="font-size: 0.85rem; color: #666; display: block; margin-bottom: 10px;">${cafe.desc}</span>
                                <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(cafe.name + ' ' + cafe.district + ' å°åŒ—')}" 
                                target="_blank" 
                                style="color: #d4a574; text-decoration: none; font-weight: bold; font-size: 0.85rem;">
                                ğŸ—ºï¸ åœ¨ Google åœ°åœ–ä¸­æŸ¥çœ‹
                                </a>
                            </div>
                        `);
                    
                    markers.push(marker);
                });
                
                // è¼‰å…¥å®Œæˆå¾Œç§»é™¤è¼‰å…¥ç•«é¢
                setTimeout(() => {
                    const loading = document.querySelector('.loading');
                    if (loading) {
                        loading.style.display = 'none';
                    }
                }, 1500);
            });

            // å’–å•¡å»³å¡ç‰‡é»æ“Šäº’å‹•
            const cards = document.querySelectorAll('.cafe-card');

            cards.forEach((card, index) => {
                card.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰activeç‹€æ…‹
                    cards.forEach(c => c.classList.remove('active'));
                    
                    // æ·»åŠ ç•¶å‰activeç‹€æ…‹
                    this.classList.add('active');
                    
                    // ç²å–ä½ç½®è³‡æ–™
                    const location = this.getAttribute('data-location');
                    const name = this.getAttribute('data-name');
                    
                    // æ›´æ–°åœ°åœ–åˆ°å°æ‡‰ä½ç½®
                    if (location && map) {
                        const [lat, lng] = location.split(',');
                        map.setView([parseFloat(lat), parseFloat(lng)], 16, {
                            animate: true,
                            duration: 1
                        });
                        
                        // æ‰¾åˆ°ä¸¦æ‰“é–‹å°æ‡‰çš„æ¨™è¨˜å½ˆå‡ºè¦–çª—
                        const cafeData = cafes.find(cafe => cafe.name === name);
                        if (cafeData) {
                            const markerIndex = cafes.indexOf(cafeData);
                            if (markers[markerIndex]) {
                                markers[markerIndex].openPopup();
                            }
                        }
                    }

                    // æ»¾å‹•åˆ°é ‚éƒ¨ï¼ˆåœ¨æ‰‹æ©Ÿç‰ˆæ™‚ï¼‰
                    if (window.innerWidth <= 1200) {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                });
            });

            // å€åŸŸç¯©é¸åŠŸèƒ½
            const filterBtns = document.querySelectorAll('.filter-btn');
            const currentCount = document.getElementById('currentCount');
            const filterHeader = document.getElementById('filterHeader');
            const filterContent = document.getElementById('filterContent');
            const filterToggle = filterHeader.querySelector('.filter-toggle');

            // æ‘ºç–Š/å±•é–‹åŠŸèƒ½
            filterHeader.addEventListener('click', function() {
                filterContent.classList.toggle('collapsed');
                filterToggle.classList.toggle('collapsed');
            });

            // ç¯©é¸æŒ‰éˆ•åŠŸèƒ½
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰æŒ‰éˆ•çš„ active ç‹€æ…‹
                    filterBtns.forEach(b => b.classList.remove('active'));
                    
                    // æ·»åŠ ç•¶å‰æŒ‰éˆ•çš„ active ç‹€æ…‹
                    this.classList.add('active');
                    
                    // ç²å–ç¯©é¸çš„å€åŸŸ
                    const district = this.getAttribute('data-district');
                    
                    let visibleCount = 0;
                    
                    // ç¯©é¸å’–å•¡å»³å¡ç‰‡
                    cards.forEach((card, index) => {
                        const cardDistrict = card.getAttribute('data-district');
                        
                        if (district === 'all' || cardDistrict === district) {
                            card.style.display = 'block';
                            visibleCount++;
                            
                            // é¡¯ç¤ºå°æ‡‰çš„åœ°åœ–æ¨™è¨˜
                            if (markers[index]) {
                                markers[index].addTo(map);
                            }
                        } else {
                            card.style.display = 'none';
                            
                            // éš±è—å°æ‡‰çš„åœ°åœ–æ¨™è¨˜
                            if (markers[index]) {
                                markers[index].remove();
                            }
                        }
                    });
                    
                    // æ›´æ–°è¨ˆæ•¸
                    currentCount.textContent = visibleCount;
                    
                    // èª¿æ•´åœ°åœ–è¦–è§’ä»¥é¡¯ç¤ºæ‰€æœ‰å¯è¦‹æ¨™è¨˜
                    if (district !== 'all' && visibleCount > 0) {
                        // å‰µå»ºåŒ…å«æ‰€æœ‰å¯è¦‹æ¨™è¨˜çš„é‚Šç•Œ
                        const visibleMarkers = [];
                        cards.forEach((card, index) => {
                            const cardDistrict = card.getAttribute('data-district');
                            if (cardDistrict === district && markers[index]) {
                                visibleMarkers.push(markers[index]);
                            }
                        });
                        
                        if (visibleMarkers.length > 0) {
                            const group = L.featureGroup(visibleMarkers);
                            map.fitBounds(group.getBounds(), { padding: [50, 50] });
                        }
                    } else if (district === 'all') {
                        // é‡ç½®åˆ°å°åŒ—å¸‚ä¸­å¿ƒè¦–è§’
                        map.setView([25.0478, 121.5318], 12);
                    }
                });
            });

            // æµ®å‹•æŒ‰éˆ•åŠŸèƒ½
            const floatingBtn = document.querySelector('.floating-btn');
            floatingBtn.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // æ»¾å‹•æ™‚é¡¯ç¤º/éš±è—æµ®å‹•æŒ‰éˆ•
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    floatingBtn.style.opacity = '1';
                    floatingBtn.style.pointerEvents = 'auto';
                } else {
                    floatingBtn.style.opacity = '0';
                    floatingBtn.style.pointerEvents = 'none';
                }
            });

            // åˆå§‹éš±è—æµ®å‹•æŒ‰éˆ•
            floatingBtn.style.opacity = '0';
            floatingBtn.style.transition = 'opacity 0.3s ease';

            // ===== æ–°å¢å‹•ç•«åŠŸèƒ½ =====

            // æ•¸å­—è¨ˆæ•¸å‹•ç•«
            function animateNumber(element, target, duration = 1500) {
                const start = 0;
                const increment = target / (duration / 16);
                let current = start;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    
                    // è™•ç†å°æ•¸é»é¡¯ç¤º
                    if (Number.isInteger(target)) {
                        element.textContent = Math.floor(current);
                    } else {
                        element.textContent = current.toFixed(1);
                    }
                }, 16);
            }

            // é é¢è¼‰å…¥æ™‚åŸ·è¡Œæ•¸å­—å‹•ç•«
            window.addEventListener('load', function() {
                setTimeout(() => {
                    const statNumbers = document.querySelectorAll('.nav-stat-number');
                    statNumbers.forEach(stat => {
                        const text = stat.textContent;
                        if (text.includes('+')) {
                            // è™•ç† "8+" é€™ç¨®æ ¼å¼
                            const num = parseInt(text);
                            animateNumber(stat, num, 1000);
                            setTimeout(() => stat.textContent = num + '+', 1000);
                        } else if (text.includes('.')) {
                            // è™•ç†å°æ•¸
                            const num = parseFloat(text);
                            animateNumber(stat, num, 1200);
                        } else {
                            // è™•ç†æ•´æ•¸
                            const num = parseInt(text);
                            animateNumber(stat, num, 1200);
                        }
                        stat.classList.add('counting');
                        setTimeout(() => stat.classList.remove('counting'), 500);
                    });
                }, 1600); // ç­‰å¾…è¼‰å…¥å‹•ç•«çµæŸ
            });

            // æ»¾å‹•æ™‚å°èˆªæ¬„æ•ˆæœ
            window.addEventListener('scroll', function() {
                const navbar = document.querySelector('.navbar');
                if (window.pageYOffset > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // å¡ç‰‡æ»¾å‹•é€²å ´å‹•ç•« (Intersection Observer)
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const cardObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // ç‚ºè³‡è¨Šå¡ç‰‡æ·»åŠ æ»¾å‹•å‹•ç•«
            document.querySelectorAll('.info-card').forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(50px)';
                card.style.transition = `all 0.6s ease ${index * 0.15}s`;
                cardObserver.observe(card);
            });

            // å’–å•¡å»³å¡ç‰‡é»æ“Šæ™‚çš„å½ˆè·³å‹•ç•«
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    // ç¢ºä¿å¡ç‰‡ä¿æŒå¯è¦‹ç‹€æ…‹
                    this.style.opacity = '1';
                    this.style.transform = 'translateY(0)';
                    this.style.animation = 'none';
                    setTimeout(() => {
                        this.style.animation = 'cardActive 0.5s ease';
                    }, 10);
                });
            });

            // æ»‘é¼ æ‡¸åœæ™‚æ˜Ÿæ˜Ÿç‰¹æ•ˆ
            document.querySelectorAll('.cafe-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    const stars = this.querySelector('.stars');
                    if (stars) {
                        stars.style.animation = 'none';
                        setTimeout(() => {
                            stars.style.animation = 'starTwinkle 0.5s ease-in-out 3';
                        }, 10);
                    }
                });
            });

            // ç¯©é¸æŒ‰éˆ•é»æ“Šæ³¢ç´‹æ•ˆæœå¢å¼·
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    // å‰µå»ºæ³¢ç´‹å…ƒç´ 
                    const ripple = document.createElement('span');
                    ripple.style.cssText = `
                        position: absolute;
                        background: rgba(255, 255, 255, 0.5);
                        border-radius: 50%;
                        transform: scale(0);
                        animation: rippleEffect 0.6s ease-out;
                        pointer-events: none;
                    `;
                    
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = (e.clientX - rect.left - size / 2) + 'px';
                    ripple.style.top = (e.clientY - rect.top - size / 2) + 'px';
                    
                    this.appendChild(ripple);
                    setTimeout(() => ripple.remove(), 600);
                });
            });

            // æ·»åŠ æ³¢ç´‹å‹•ç•«æ¨£å¼
            const rippleStyle = document.createElement('style');
            rippleStyle.textContent = `
                @keyframes rippleEffect {
                    to {
                        transform: scale(4);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(rippleStyle);

            // Logo å’–å•¡æ¯æ‡¸åœæ”¾å¤§æ•ˆæœ
            const logoIcon = document.querySelector('.logo-icon');
            if (logoIcon) {
                logoIcon.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.2)';
                    this.style.transition = 'transform 0.3s ease';
                });
                logoIcon.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                });
            }

            // åœ°åœ–æç¤ºæ–‡å­—æ‰“å­—æ©Ÿæ•ˆæœ
            const mapOverlayText = document.querySelector('.map-overlay p:last-child');
            if (mapOverlayText) {
                const originalText = mapOverlayText.textContent;
                mapOverlayText.textContent = '';
                let i = 0;
                
                setTimeout(() => {
                    const typeWriter = setInterval(() => {
                        if (i < originalText.length) {
                            mapOverlayText.textContent += originalText.charAt(i);
                            i++;
                        } else {
                            clearInterval(typeWriter);
                        }
                    }, 80);
                }, 2000);
            }
        </script>
    </body>
</html>